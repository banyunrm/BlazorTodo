@page "/countries/create"

<h3>Add New Country</h3>

<MudPaper Class="p-4" Elevation="2">
    <MudTextField @bind-Value="country.Name" Label="Name" Variant="Variant.Outlined" Class="mb-3" />
    <MudNumericField @bind-Value="country.Code" Label="Code" Variant="Variant.Outlined" Class="mb-3" />

    <MudButton Color="Color.Success" Variant="Variant.Filled" OnClick="SaveCountry" Class="me-2">Save</MudButton>
    <MudButton Color="Color.Secondary" Variant="Variant.Outlined" OnClick="Cancel">Cancel</MudButton>
</MudPaper>

@code {
    private Country country = new();

    private async Task SaveCountry()
    {
        Database.Countries.Add(country);
        await Database.SaveChangesAsync();
        Nav.NavigateTo("/countries");
    }

    private void Cancel() => Nav.NavigateTo("/countries");
}
