@page "/countries/create"
@inject HttpClient Http
@inject NavigationManager Nav

<h3>Create Country</h3>

<div class="mb-3">
    <label>Name</label>
    <input class="form-control" @bind="country.Name" />
</div>
<div class="mb-3">
    <label>Code</label>
    <input class="form-control" @bind="country.Code" />
</div>
<button class="btn btn-primary" @onclick="CreateCountry">Create</button>
<button class="btn btn-secondary" @onclick="GoBack">Cancel</button>

@code {
    private BlazorTodo.WebUI.Models.Country country = new();

    private async Task CreateCountry()
    {
        await Http.PostAsJsonAsync("api/countries", country);
        Nav.NavigateTo("/countries");
    }

    private void GoBack()
    {
        Nav.NavigateTo("/countries");
    }
}